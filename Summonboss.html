<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<style>
 /* ESTILIZAÇÃO GLOBAL - PRESERVADA */
 *::-webkit-scrollbar {width: 4px; height: 4px;}
 *::-webkit-scrollbar-thumb {background: #ff9800; border-radius: 10px;}
 *::-webkit-scrollbar-track {background: #1a1a1a;}
 * { box-sizing: border-box; }

 body {
    background: #0f0f0f;
    color: #ddd;
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    padding: 10px;
    width: 325px; 
    height: 580px;
    border: 1px solid #ff9800;
    border-radius: 8px;
    overflow: hidden;
 }
 
 .header { position: sticky; top: 0; background: #0f0f0f; padding-bottom: 10px; border-bottom: 1px solid #333; z-index: 10; }
 h4 { margin: 0 0 8px 0; color: #ff9800; text-align: center; text-transform: uppercase; font-size: 13px; }

 .nav-menu { display: flex; gap: 5px; margin-bottom: 10px; }
 .nav-btn { flex: 1; text-decoration: none; text-align: center; font-size: 10px; font-weight: bold; padding: 6px; border-radius: 3px; transition: 0.3s; }
 .btn-active { background: #ff9800; color: #000; }
 .btn-inactive { background: #252525; color: #fff; border: 1px solid #444; }

 .filter-container { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 5px; }
 .f-btn { 
    flex: 1 1 calc(20% - 4px); 
    border: none; 
    padding: 8px 0; 
    font-size: 9px; 
    font-weight: bold; 
    cursor: pointer; 
    border-radius: 3px; 
    text-transform: uppercase; 
    opacity: 0.5; 
    transition: 0.2s; 
    text-align: center; 
 }
 .f-btn.active { opacity: 1; box-shadow: 0 0 8px rgba(255,152,0,0.5); transform: scale(1.05); }
 
 /* CORES DOS MUNDOS */
 .all { background: #444; color: #fff; }
 .mc { background: #607d8b; color: #fff; } 
 .m2 { background: #ffcc80; color: #000; } .m3 { background: #a5d6a7; color: #000; } 
 .m4 { background: #90ee90; color: #000; } .m5 { background: #ffe082; color: #000; } 
 .m6 { background: #ce93d8; color: #000; } .m7 { background: #add8e6; color: #000; } 
 .m8 { background: #f28d8d; color: #000; } .m155 { background: #ff5252; color: #fff; }

 .btn-voltar { background: #444; color: #fff; flex: 1 1 100%; margin-bottom: 4px; font-size: 10px; }

 .scroll { height: 385px; overflow-y: auto; margin-top: 10px; padding-right: 5px; }

 /* ESTILO DOS CARDS - PRESERVADO */
 .boss-card { background: rgba(255,255,255,0.03); border: 1px solid #222; border-radius: 5px; margin-bottom: 12px; border-left: 4px solid transparent; }
 
 [data-mundo*="MC"]{border-left-color:#607d8b} [data-mundo*="PURGATORIO"]{border-left-color:#7e57c2}
 [data-mundo*="M2"]{border-left-color:#ffcc80} [data-mundo*="M3"]{border-left-color:#a5d6a7}
 [data-mundo*="M4"]{border-left-color:#90ee90} [data-mundo*="M5"]{border-left-color:#ffe082}
 [data-mundo*="M6"]{border-left-color:#ce93d8} [data-mundo*="M7"]{border-left-color:#add8e6}
 [data-mundo*="M8"]{border-left-color:#f28d8d} [data-mundo*="M155"]{border-left-color:#ff5252}

 .boss-header { display: flex; align-items: center; padding: 8px; gap: 10px; }
 .boss-img { width: 42px; height: 42px; border: 1px solid #444; border-radius: 4px; object-fit: cover; }
 .boss-name { font-size: 11px; font-weight: bold; color: #fff; display: block; }
 .npc-info { font-size: 9px; color: #ff9800; display: block; }

 .detail-sec { padding: 8px; border-top: 1px solid #222; background: rgba(0,0,0,0.2); }
 .label { font-size: 8px; color: #777; text-transform: uppercase; margin-bottom: 5px; display: block; }
 .item-row { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 8px; }
 .item-slot { width: 32px; height: 32px; background: #1a1a1a; border: 1px solid #333; border-radius: 3px; position: relative; }
 .item-slot img { width: 100%; height: 100%; padding: 2px; }
 .qty { position: absolute; bottom: -2px; right: 0px; font-size: 9px; background: rgba(0,0,0,0.85); color: #00e676; padding: 0 2px; font-weight: bold; border-radius: 2px; }
 
 .hidden { display: none !important; }
</style>
</head>
<body>

<div class="header">
 <h4>MIR4 Boss Tracker</h4>
 <div class="nav-menu">
  <a href="index.html" class="nav-btn btn-inactive">BOSSES DE CAMPO</a>
  <a href="Summonboss.html" class="nav-btn btn-active">INVOCAÇÃO</a>
 </div>

 <div id="menuPrincipal" class="filter-container">
  <button class="f-btn all active" onclick="filter('all', this)">Tudo</button>
  <button class="f-btn mc" onclick="trocarMenu('mc')">MC</button>
  <button class="f-btn m2" onclick="filter('M2', this)">M2</button>
  <button class="f-btn m3" onclick="filter('M3', this)">M3</button>
  <button class="f-btn m4" onclick="filter('M4', this)">M4</button>
  <button class="f-btn m5" onclick="filter('M5', this)">M5</button>
  <button class="f-btn m6" onclick="filter('M6', this)">M6</button>
  <button class="f-btn m7" onclick="filter('M7', this)">M7</button>
  <button class="f-btn m8" onclick="filter('M8', this)">M8</button>
  <button class="f-btn m155" onclick="trocarMenu('m155')">155+</button>
 </div>

 <div id="menuMC" class="filter-container hidden">
  <button class="f-btn btn-voltar" onclick="trocarMenu('principal')">← Voltar para Mundos</button>
  <button class="f-btn mc" onclick="filter('MC', this)">Bosses MC</button>
  <button class="f-btn mc" style="background:#7e57c2; color:white;" onclick="filter('PURGATORIO', this)">Purgatório</button>
 </div>

 <div id="menu155" class="filter-container hidden">
  <button class="f-btn btn-voltar" onclick="trocarMenu('principal')">← Voltar para Mundos</button>
  <button class="f-btn m155" onclick="filter('Unseo', this)">Unseo</button>
  <button class="f-btn m155" onclick="filter('Vales', this)">Vales</button>
  <button class="f-btn m155" onclick="filter('Fogo', this)">Fogo</button>
  <button class="f-btn m155" onclick="filter('Gelo', this)">Gelo</button>
 </div>
</div>

<div class="scroll" id="bossList">

 <div class="boss-card" data-mundo="M8">
  <div class="boss-header">
   <img src="img/bosses/m8_pakua.png" class="boss-img" onerror="this.src='https://via.placeholder.com/42?text=M8'">
   <div><span class="boss-name">Salão de Pedra de Pakua</span><span class="npc-info">NPC: Buman - Convés do Navio</span></div>
  </div>
  <div class="detail-sec">
   <span class="label">Requisitos</span>
   <div class="item-row"><div class="item-slot"><img src="img/itens/item_m8.png"></div></div>
   <span class="label">Drops</span>
   <div class="item-row">
    <div class="item-slot"><img src="img/itens/bau_azul.png"></div>
    <div class="item-slot"><img src="img/itens/bau_roxo.png"></div>
   </div>
  </div>
 </div>

 <div class="boss-card" data-mundo="M4">
  <div class="boss-header">
   <img src="img/bosses/m4_sabuk.png" class="boss-img" onerror="this.src='https://via.placeholder.com/42?text=M4'">
   <div><span class="boss-name">Província de Sabuk</span><span class="npc-info">NPC: Dangpo - Prov. Sabuk</span></div>
  </div>
  <div class="detail-sec">
   <span class="label">Requisitos</span>
   <div class="item-row">
    <div class="item-slot"><img src="img/itens/estatua.png"><span class="qty">20</span></div>
    <div class="item-slot"><img src="img/itens/perola.png"><span class="qty">100</span></div>
    <div class="item-slot"><img src="img/itens/moeda.png"><span class="qty">5</span></div>
   </div>
   <span class="label">Drops</span>
   <div class="item-row">
    <div class="item-slot"><img src="img/itens/item_blue.png"></div>
    <div class="item-slot"><img src="img/itens/bau_ouro.png"></div>
   </div>
  </div>
 </div>

 <div class="boss-card" data-mundo="M2">
  <div class="boss-header">
   <img src="img/bosses/m2_seocheon.png" class="boss-img" onerror="this.src='https://via.placeholder.com/42?text=M2'">
   <div><span class="boss-name">Feitoria Seocheon</span><span class="npc-info">NPC: Condutor de Almas</span></div>
  </div>
  <div class="detail-sec">
   <span class="label">Requisitos</span>
   <div class="item-row">
    <div class="item-slot"><img src="img/itens/vela.png"><span class="qty">20</span></div>
    <div class="item-slot"><img src="img/itens/cristal.png"><span class="qty">100</span></div>
    <div class="item-slot"><img src="img/itens/moeda.png"><span class="qty">5</span></div>
    <div class="item-slot"><img src="img/itens/coracao.png"><span class="qty">100</span></div>
   </div>
   <span class="label">Drops</span>
   <div class="item-row">
    <div class="item-slot"><img src="img/itens/bau_roxo.png"></div>
    <div class="item-slot"><img src="img/itens/item_recompensa.png"><span class="qty">30</span></div>
   </div>
  </div>
 </div>

</div>

<script>
// FUNÇÃO DE TROCA DE MENUS - TOTALMENTE REVISADA
function trocarMenu(alvo) {
  const principal = document.getElementById('menuPrincipal');
  const menuMC = document.getElementById('menuMC');
  const menu155 = document.getElementById('menu155');

  // Esconde todos
  principal.classList.add('hidden');
  menuMC.classList.add('hidden');
  menu155.classList.add('hidden');

  if (alvo === 'mc') {
    menuMC.classList.remove('hidden');
    // Filtra automaticamente pelo primeiro botão do sub-menu
    filter('MC', menuMC.querySelector('.mc'));
  } 
  else if (alvo === 'm155') {
    menu155.classList.remove('hidden');
    filter('M155', menu155.querySelector('.m155'));
  } 
  else {
    principal.classList.remove('hidden');
    filter('all', principal.querySelector('.all'));
  }
}

// FUNÇÃO DE FILTRO DE CARDS
function filter(termo, btn) {
  // Remove classe active de todos os botões de todos os menus
  document.querySelectorAll('.f-btn').forEach(b => b.classList.remove('active'));
  
  // Adiciona active no botão clicado
  if(btn) btn.classList.add('active');
  
  const cards = document.querySelectorAll('.boss-card');
  cards.forEach(card => {
    const mundo = card.getAttribute('data-mundo') || "";
    // Se o termo for 'all' ou estiver contido no data-mundo do card
    if(termo === 'all' || mundo.includes(termo)) {
      card.classList.remove('hidden');
    } else {
      card.classList.add('hidden');
    }
  });
}
</script>
</body>
</html>
