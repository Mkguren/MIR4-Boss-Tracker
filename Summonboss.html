<style>
 /* Estilo para esconder elementos */
 .hidden { display: none !important; }

 /* Ajuste para o botão voltar ter destaque */
 .btn-voltar { 
    background: #444 !important; 
    color: #fff !important; 
    flex: 1 1 100% !important; /* Ocupa a largura toda ou destaque */
    margin-bottom: 4px;
 }
</style>

<div class="header">
 <h4>MIR4 Boss Tracker</h4>
 
 <div class="nav-menu">
  <a href="index.html" class="nav-btn btn-inactive">BOSSES DE CAMPO</a>
  <a href="Summonboss.html" class="nav-btn btn-active">INVOCAÇÃO</a>
 </div>

 <div id="menuPrincipal" class="filter-container">
  <button class="f-btn all active" onclick="filter('all', this)">Tudo</button>
  <button class="f-btn m1" onclick="filter('M1', this)">M1</button>
  <button class="f-btn m2" onclick="filter('M2', this)">M2</button>
  <button class="f-btn m3" onclick="filter('M3', this)">M3</button>
  <button class="f-btn m4" onclick="filter('M4', this)">M4</button>
  <button class="f-btn m5" onclick="filter('M5', this)">M5</button>
  <button class="f-btn m6" onclick="filter('M6', this)">M6</button>
  <button class="f-btn m7" onclick="filter('M7', this)">M7</button>
  <button class="f-btn m8" onclick="filter('M8', this)">M8</button>
  <button class="f-btn m155" onclick="trocarMenu('sub')">155+</button>
 </div>

 <div id="menu155" class="filter-container hidden">
  <button class="f-btn btn-voltar" onclick="trocarMenu('principal')">← Voltar</button>
  <button class="f-btn m155" onclick="filter('Unseo', this)">Unseo</button>
  <button class="f-btn m155" onclick="filter('Vales', this)">Vales</button>
  <button class="f-btn m155" onclick="filter('Fogo', this)">Fogo</button>
  <button class="f-btn m155" onclick="filter('Gelo', this)">Gelo</button>
 </div>
</div>

<script>
function trocarMenu(tipo) {
  const principal = document.getElementById('menuPrincipal');
  const sub = document.getElementById('menu155');
  
  if (tipo === 'sub') {
    principal.classList.add('hidden');
    sub.classList.remove('hidden');
    // Filtra automaticamente por qualquer boss que seja 155 ao entrar
    filter('M155', sub.querySelector('.m155')); 
  } else {
    sub.classList.add('hidden');
    principal.classList.remove('hidden');
    filter('all', principal.querySelector('.all'));
  }
}

function filter(termo, btn) {
  // Remove active de todos os botões de ambos os menus
  document.querySelectorAll('.f-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  
  const cards = document.querySelectorAll('.boss-card');
  cards.forEach(card => {
    const mundo = card.getAttribute('data-mundo') || "";
    // Verifica se o termo de busca está no data-mundo (Ex: "M1" ou "Unseo")
    if(termo === 'all' || mundo.includes(termo)) {
      card.classList.remove('hidden');
    } else {
      card.classList.add('hidden');
    }
  });
}
</script>
